<!--
    eatout - yummy places in the hood
    Copyright (C) 2014-2016 Maria Carrasco Rodriguez

    This file is part of eatout.

    eatout is free software: you can redistribute it and/or modify
    it under the terms of the GNU Affero General Public License as
    published by the Free Software Foundation, either version 3 of the
    License, or (at your option) any later version.

    eatout is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU Affero General Public License for more details.

    You should have received a copy of the GNU Affero General Public License
    along with eatout.  If not, see <http://www.gnu.org/licenses/>.
-->
<div class="search-wrapper place-wrapper" ng-controller="eob_SearchCtrl">
  <!-- eob-autofocus-delay must match expand transition delay -->
  <input class="searchbox" ng-model="query" ng-change="queryChanged()"
         autofocus
         eob-autofocus="seepanel"
         eob-autofocus-delay="501"
         placeholder="Type to search"
         ng-value="filterSearch">
  <a class="close-place" href=".">
    <div class="menu-toggle close">
      <b></b> <b></b> <b></b>
    </div>
  </a>

  <div class="search-message" ng-if="filteredPlaces.length == 0">
    No place found!
  </div>

  <div class="search-result"
       ng-repeat="place in filteredPlaces"
       ng-click="openPlaceFromSearch(place);"
       ng-mouseenter="enterPlace(place);"
       ng-mouseleave="leavePlace(place);">

    <div class="search-result-wrapper">
      <div class="place-name">
        {{place.name}}
      </div>

      <div class="search-rating">
        <span class="sico ico-star"></span>{{place.rating}}
      </div>

      <div class="distance-from-me" title="distance from me" ng-if="place.distance">
        <span class="sico ico-walking"></span>{{place.distance}} km
      </div>

      <div class="place-address" title="address"  ng-if="!place.distance">
        <span class="sico ico-place"></span>{{place.address}}
      </div>
    </div>
  </div>
</div>
