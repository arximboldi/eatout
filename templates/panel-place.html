<!--
    eatout - yummy places in the hood
    Copyright (C) 2014-2016 Maria Carrasco Rodriguez

    This file is part of eatout.

    eatout is free software: you can redistribute it and/or modify
    it under the terms of the GNU Affero General Public License as
    published by the Free Software Foundation, either version 3 of the
    License, or (at your option) any later version.

    eatout is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU Affero General Public License for more details.

    You should have received a copy of the GNU Affero General Public License
    along with eatout.  If not, see <http://www.gnu.org/licenses/>.
-->
<div class="place-wrapper" ng-controller="eob_PlaceCtrl">
  <div class="header" style="background-image: url( {{place.images[0]}} ); ">
    <a class="expand-panel" ng-click="togglePanel();"><b></b><b></b><b></b></a>
    <a class="close-place" href=".">
      <div class="menu-toggle close">
	<b></b> <b></b> <b></b>
      </div>
    </a>
    <div class="place-info-area">
      <div class="place-info">
	<div class="place-name">{{place.name}}</div>
	<div class="rating-wrapper" title="Place rating">
	  <div class="rating-number"> {{place.rating}} </div>
          <div class="rating">
            <div class="rating-value" style="width: {{place.rating*120/5}}px"></div>
            <div class="rating-rest"
                 style="width: {{120-place.rating*120/5}}px; background-position: {{-place.rating*120/5}}px -24px">
            </div>
	  </div>
	</div>
	<div class="place-address" title="address"><span class="sico ico-place"></span> {{place.address}}</div>
	<div class="distance-from-me" ng-if="place.distance" title="distance from me"> <span class="sico ico-walking"></span> {{place.distance}} km</div>
      </div>
      <div class="recommended" ng-if="place.recommended"></div>
      <div class="social-icons">
        <a class="share twitter" title="Share on Twitter" href="" ng-click="twitterShare();"></a>
        <a class="share facebook"  title="Share on Facebook" href="" ng-click="facebookShare();"></a>
      </div>
    </div>
  </div>
  <div class="content">
      <div class="top-content">
          <div class="FR AR">
              <div class="last-visited" ng-if="place.date" title="last visit"> <span class="sico ico-seen"></span> {{place.date}} </div>
              <!-- <span class="sico ico-foodtype"></span><span>{{place.foodtype}}</span> -->
              <img ng-if="!place.closed" ng-src="images/icons/foodtype/{{place.foodtype}}.svg" alt="{{place.foodtype}}" title="{{place.foodtype}}">
              <div ng-if="place.closed" class="place-closed"> </div>
          </div>
          <ul class="place-content-info">
              <li class="truncate place-website" title="website"><span class="sico ico-sphere"></span><span><a href="{{place.url}}" target="_blank">{{place.url}}</a></span></li>
              <li ng-if="place.phone" title="phone"><span class="sico ico-phone"></span><span><a href="tel:{{place.phone}}">{{place.phone}}</a></span></li>
              <li title="price range">
                  <div class="price-wrapper">
                      <div class="price-range">
                          <div class="price-value" style="width: {{place.pricerange*80/5}}px"></div>
                          <div class="price-rest"
                               style="width: {{80-place.pricerange*80/5}}px; background-position: {{-place.pricerange*80/5}}px -16px">
                          </div>
	              </div>
	          </div>
              </li>
          </ul>
      </div>
    <div class="title" ng-if="place.title">
      {{place.title}}
    </div>
    <div class="description" ng-bind-html="place.description | unsafe"> </div>
    <div class="images">
      <div class="image-container" ng-repeat="img in place.images" ng-show="!$first">
        <figure>
	  <img ng-src="{{img}}" class="place-image" alt="{{place.title}}" title="{{place.title}}" />
          <!-- <figcaption>Caption for this image</figcaption> -->
        </figure>
      </div>
    </div>
  </div>
</div>
